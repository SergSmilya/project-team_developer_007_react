"use strict";(self.webpackChunkproject_team_developer_007_react=self.webpackChunkproject_team_developer_007_react||[]).push([[968],{1556:function(e,n,i){i.d(n,{e:function(){return d}});var t="mainPage_title__NkTqx",r="mainPage_firstGreen__OVjdr",s="mainPage_black__JMHNO",a="mainPage_lastGreen__7VLZZ",c=i(184),d=function(e){var n=e.text;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{className:t,children:n}),(0,c.jsx)("svg",{className:r,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("rect",{y:"2.84525",width:"8",height:"8",rx:"3",transform:"rotate(-25 0 2.84525)",fill:"#8BAA36"})}),(0,c.jsx)("svg",{className:s,width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("rect",{y:"2",width:"6",height:"6",rx:"3",transform:"rotate(-25 0 2)",fill:"#22252A"})}),(0,c.jsx)("svg",{className:a,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("rect",{y:"2.84525",width:"8",height:"8",rx:"3",transform:"rotate(-25 0 2.84525)",fill:"#8BAA36"})})]})}},4968:function(e,n,i){i.r(n),i.d(n,{default:function(){return ee}});var t=i(4942),r=i(1413),s=i(3433),a=i(9439),c=i(2791),d=i(7689),o=i(9434),l=i(8816),u=i(2166),p=i(5984),g=i(5264),m=i(6727),A=m.Ry().shape({img:m.Z_().required("Image is required"),title:m.Z_().typeError("Should be a string").required("Title is required"),description:m.Z_().typeError("Should be a string").required("Description is required"),cookingTime:m.Z_(),category:m.Z_(),ingredients:m.IX().of(m.Ry({name:m.Z_().required("Ingredient name is required"),ingredientsQuantity:m.Z_().required("Ingredient quantity is required"),ingredientsQuantityMeasure:m.Z_(),id:m.Z_()})).required("Ingredients is required"),preparation:m.Z_().required("Preparation text is required")}),_="RecipeDescriptionFields_descriptionFieldWrapper__OllyZ",h="RecipeDescriptionFields_imgWrapper__PThwi",x="RecipeDescriptionFields_imgInput__hs24V",f="RecipeDescriptionFields_mockImg__LkiOa",v="RecipeDescriptionFields_recipeImg__NeH-m",I="RecipeDescriptionFields_inputBox__S5ETY",j="RecipeDescriptionFields_inputRaw__4EWRb",N="RecipeDescriptionFields_selectBox__Zi2-P",F="RecipeDescriptionFields_selectLabel__Hx9Qt",R="RecipeDescriptionFields_selectVariantsBox__M1-9-",y="RecipeDescriptionFields_arrow__s+6oQ",C="RecipeDescriptionFields_selectVariants__xv5ae",w="RecipeDescriptionFields_selectList__nuUTP",Z="RecipeDescriptionFields_selectItem__rRTPj",B="RecipeDescriptionFields_errorMsg__JCF6Y",Q="RecipeDescriptionFields_inputsWrapper__Jv0zK",b=i(7322),D=i(2530),E=i(4666),S=i(184),k=function(){for(var e=[],n=5;n<=120;n+=5)e.push(n);return e}(),M=function(e){var n=e.title,i=e.description,t=e.time,r=e.category,s=e.onInputImgUpload,d=e.onTitleChange,l=e.onDescriptionChange,u=e.onTimeChange,p=e.onCategoryChange,g=e.errors,m=(0,o.I0)(),A=(0,o.v9)(D.us);console.log(A),(0,c.useEffect)((function(){m((0,E.p)())}),[m]);var M=(0,c.useState)(""),T=(0,a.Z)(M,2),L=T[0],P=T[1],q=(0,c.useState)(!1),H=(0,a.Z)(q,2),J=H[0],O=H[1],U=(0,c.useState)(!1),z=(0,a.Z)(U,2),W=z[0],X=z[1];return console.log(L),(0,S.jsxs)("div",{className:_,children:[(0,S.jsxs)("div",{className:h,onChange:function(e){return function(e){var n=e.target.files[0],i=new FileReader;i.addEventListener("load",(function(e){var i=e.target.result,t=new File([i],{type:n.type}),r=URL.createObjectURL(t);P(r)})),i.readAsArrayBuffer(n),s(e)}(e)},children:[(0,S.jsx)("label",{htmlFor:"dishImg",children:(0,S.jsx)("img",{className:f,src:"".concat("data:image/png;base64,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"),alt:"addphoto"})}),(0,S.jsx)("input",{className:x,type:"file",accept:".jpg, .jpeg, .png",id:"dishImg",name:"img"}),L&&(0,S.jsx)("img",{className:v,src:L,alt:"recipeImage"}),g.imgs&&(0,S.jsx)("p",{className:B,children:g.imgs})]}),(0,S.jsxs)("div",{className:Q,children:[(0,S.jsxs)("div",{className:I,children:[(0,S.jsx)("input",{className:j,type:"text",id:"title",name:"title",placeholder:"Enter item title",onChange:function(e){return d(e.target.value)},value:n}),g.title&&(0,S.jsx)("p",{className:B,children:g.title})]}),(0,S.jsxs)("div",{className:I,children:[(0,S.jsx)("input",{className:j,type:"text",id:"about",name:"description",placeholder:"Enter about recipe",onChange:function(e){return l(e.target.value)},value:i}),g.description&&(0,S.jsx)("p",{className:B,children:g.description})]}),(0,S.jsxs)("div",{className:N,onClick:function(){X(!W)},children:[(0,S.jsx)("div",{className:F,children:"Category"}),(0,S.jsxs)("div",{className:R,children:[(0,S.jsx)("span",{className:C,children:r}),(0,S.jsx)(b.Ix0,{className:y,size:"18"})]}),W&&(0,S.jsx)("ul",{className:w,children:A.map((function(e,n){return(0,S.jsx)("li",{className:Z,onClick:function(){return n=e.name,p(n),void X(!1);var n},children:e.name},e._id)}))})]}),(0,S.jsxs)("div",{className:N,onClick:function(){O(!J)},children:[(0,S.jsx)("div",{className:F,children:"Cooking time"}),(0,S.jsxs)("div",{className:R,children:[(0,S.jsx)("span",{className:C,children:t}),(0,S.jsx)(b.Ix0,{className:y,size:"18"})]}),J&&(0,S.jsx)("ul",{className:w,children:k.map((function(e){return(0,S.jsx)("li",{className:Z,onClick:function(){return u(e),void O(!1)},children:e},e)}))})]})]})]})},T=function(e){return e.ingredients.ingredientsList},L=i(7260),P={ingredientsFieldWrapper:"RecipeIngredientsFields_ingredientsFieldWrapper__7nfJt",subtitle:"RecipeIngredientsFields_subtitle__1ZGFR",subtitleWrapper:"RecipeIngredientsFields_subtitleWrapper__SfGmt",ingredientsCounter:"RecipeIngredientsFields_ingredientsCounter__nN9uc",counterBtn:"RecipeIngredientsFields_counterBtn__IkHfo",counterBtnIcon:"RecipeIngredientsFields_counterBtnIcon__qPiY0",counterValue:"RecipeIngredientsFields_counterValue__OM8mo",ingredientItem:"RecipeIngredientsFields_ingredientItem__HjtdF",ingredientNameField:"RecipeIngredientsFields_ingredientNameField__srmHQ",ingredientInputBox:"RecipeIngredientsFields_ingredientInputBox__5j0ek",ingredientNameInput:"RecipeIngredientsFields_ingredientNameInput__t8j40",selectIngredients:"RecipeIngredientsFields_selectIngredients__cTPG+",selectIngredientItem:"RecipeIngredientsFields_selectIngredientItem__IYGbG",ingredientQuantityField:"RecipeIngredientsFields_ingredientQuantityField__vGfAg",ingredientQuantityInput:"RecipeIngredientsFields_ingredientQuantityInput__4ivy3",selectBox:"RecipeIngredientsFields_selectBox__wSTHA",arrow:"RecipeIngredientsFields_arrow__0afm7",arrowIngr:"RecipeIngredientsFields_arrowIngr__2RFdn",selectLabel:"RecipeIngredientsFields_selectLabel__paEGl",selectQuantityList:"RecipeIngredientsFields_selectQuantityList__s8IwP",selectQuantityItem:"RecipeIngredientsFields_selectQuantityItem__qidO3",deleteBtn:"RecipeIngredientsFields_deleteBtn__dOAYE",deleteBtnIcon:"RecipeIngredientsFields_deleteBtnIcon__Yxm5n",errorMsg:"RecipeIngredientsFields_errorMsg__k3PKf"},q=function(e){var n=e.ingredients,i=e.incrIngredientFields,t=e.decrIngredientFields,r=e.deleteIngredient,d=e.updateIngredient,l=e.updateErrors,u=e.errors,p=(0,o.I0)(),g=(0,o.v9)(T);(0,c.useEffect)((function(){p((0,L.D)())}),[p]);var m=(0,c.useState)(g),A=(0,a.Z)(m,2),_=A[0],h=A[1],x=["tbs","tsp","kg","g","ml","pcs","to taste"],f=(0,c.useState)(1),v=(0,a.Z)(f,2),I=v[0],j=v[1],N=(0,c.useState)(new Array(n.length).fill("")),F=(0,a.Z)(N,2),R=F[0],y=F[1],C=(0,c.useState)(new Array(n.length).fill("")),w=(0,a.Z)(C,2),Z=w[0],B=w[1];return(0,S.jsxs)("div",{className:P.ingredientsFieldWrapper,children:[(0,S.jsxs)("div",{className:P.subtitleWrapper,children:[(0,S.jsx)("h3",{className:P.subtitle,children:"Ingredients"}),(0,S.jsxs)("div",{className:P.ingredientsCounter,children:[(0,S.jsx)("button",{className:P.counterBtn,type:"button",onClick:function(){0!==I&&(t(),j((function(e){return e-1})))},children:(0,S.jsx)(b.eqC,{className:P.counterBtnIcon,size:"14"})}),(0,S.jsx)("p",{className:P.counterValue,children:I}),(0,S.jsx)("button",{className:P.counterBtn,type:"button",onClick:function(){i(),j((function(e){return e+1}))},children:(0,S.jsx)(b.x06,{className:P.counterBtnIcon,size:"14"})})]})]}),(0,S.jsx)("ul",{className:P.ingredientsList,children:n.map((function(e,n){return(0,S.jsxs)("li",{className:P.ingredientItem,children:[(0,S.jsxs)("div",{className:P.ingredientNameField,children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:P.ingredientInputBox,children:[(0,S.jsx)("input",{name:"ingredients",className:P.ingredientNameInput,autoFocus:!0,value:e.name,onChange:function(i){return function(e,n,i){B((function(n){var i=(0,s.Z)(n);return i[e]=!0,i})),h(g.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return e.name}))),d(e,n,i,"name"),l(["ingredients[".concat(e,"]")])}(n,i.target.value,e.id)}}),(0,S.jsx)(b.Ix0,{className:P.arrowIngr,size:"18"})]}),u["ingredients[".concat(n,"]")]&&(0,S.jsx)("p",{className:P.errorMsg,children:u["ingredients[".concat(n,"]")]}),Z[n]&&(0,S.jsx)("ul",{className:P.selectIngredients,children:_.map((function(i){return(0,S.jsx)("li",{className:P.selectIngredientItem,onClick:function(){return function(e,n,i){d(e,n,i,"name"),B((function(n){var i=(0,s.Z)(n);return i[e]=!1,i}))}(n,i,e.id)},children:i},i)}))})]}),(0,S.jsxs)("div",{className:P.ingredientQuantityField,children:[(0,S.jsx)("input",{className:P.ingredientQuantityInput,type:"number",value:e.ingredientsQuantity,onChange:function(i){return function(e,n,i){console.log("Quantity",{index:e,value:n}),d(e,n,i,"ingredientsQuantity"),l(["ingredients[".concat(e,"].ingredientQuantity")])}(n,i.target.value,e.id)}}),(0,S.jsxs)("div",{className:P.selectBox,onClick:function(){return function(e){y((function(n){var i=(0,s.Z)(n);return i[e]=!i[e],i}))}(n)},children:[(0,S.jsx)("span",{className:P.selectLabel,children:e.ingredientsQuantityMeasure}),(0,S.jsx)(b.Ix0,{className:P.arrow,size:"18"})]}),R[n]&&(0,S.jsx)("ul",{className:P.selectQuantityList,children:x.map((function(i){return(0,S.jsx)("li",{className:P.selectQuantityItem,onClick:function(){return function(e,n,i){console.log("Set quantity",{id:i,value:n}),y((function(n){var i=(0,s.Z)(n);return i[e]=!i[e],i})),d(e,n,i,"ingredientsQuantityMeasure")}(n,i,e.id)},children:i},i)}))}),u["ingredients[".concat(n,"].ingredientsQuantity")]&&(0,S.jsxs)("p",{className:P.errorMsg,children:[" ",u["ingredients[".concat(n,"].ingredientsQuantity")]," "]})]})]}),(0,S.jsx)("button",{className:P.deleteBtn,type:"button",onClick:function(){return function(e,n){r(e),j((function(e){return e-1})),B((function(e){var i=(0,s.Z)(e);return i[n]=!1,i}))}(e.id,n)},children:(0,S.jsx)(b.lTq,{className:P.deleteBtnIcon,size:"18px"})})]},e.id)}))})]})},H={subtitle:"RecipePreparationFields_subtitle__5jg8a",recipeTextarea:"RecipePreparationFields_recipeTextarea__gE981",errorText:"RecipePreparationFields_errorText__viRuP"},J=function(e){var n=e.onPreparationTextChange,i=(e.preparation,e.errors),t=(0,c.useState)(""),r=(0,a.Z)(t,2),s=r[0],d=r[1];return(0,S.jsxs)("div",{className:H.preparationFieldWrapper,children:[(0,S.jsx)("h3",{className:H.subtitle,children:"Recipe Preparation"}),(0,S.jsx)("textarea",{className:H.recipeTextarea,name:"instructions",id:"instructions",placeholder:"Enter recipe",onKeyDown:function(e){var i=s;"Enter"===e.key&&(i=s.split("\n").join(", ")),n(i)},onChange:function(e){d(e.target.value)},value:s}),i.preparation&&(0,S.jsx)("p",{className:H.errorText,children:i.preparation})]})},O={addSectionWrap:"AddRecipeComponents_addSectionWrap__cl+na",addRecipeForm:"AddRecipeComponents_addRecipeForm__VEcmL",addButton:"AddRecipeComponents_addButton__caTT4"},U=function(){var e=(0,c.useState)(""),n=(0,a.Z)(e,2),i=n[0],m=n[1],_=(0,c.useState)(""),h=(0,a.Z)(_,2),x=h[0],f=h[1],v=(0,c.useState)(""),I=(0,a.Z)(v,2),j=I[0],N=I[1],F=(0,c.useState)("Breakfast"),R=(0,a.Z)(F,2),y=R[0],C=R[1],w=(0,c.useState)("30 min"),Z=(0,a.Z)(w,2),B=Z[0],Q=Z[1],b=(0,c.useState)([{id:(0,p.x0)(),ingredientsQuantity:0,ingredientsQuantityMeasure:"tbs",name:""}]),D=(0,a.Z)(b,2),E=D[0],k=D[1],T=(0,c.useState)(""),L=(0,a.Z)(T,2),P=L[0],H=L[1],U=(0,c.useState)({}),z=(0,a.Z)(U,2),W=z[0],X=z[1],K=(0,d.s0)(),G=(0,c.useMemo)((function(){return E.map((function(e){var n=e.id,i=e.ingredientsQuantity,t=e.ingredientsQuantityMeasure;return{measure:"".concat(i," ").concat(t),id:n}}))}),[E]),Y={img:i,title:x,description:j,cookingTime:B,category:y,ingredients:E,preparation:P};console.log(Y);var V=new FormData;V.append("img",i),V.append("title",x),V.append("description",j),V.append("category",y),V.append("time",B),V.append("ingredients",JSON.stringify(G)),V.append("instructions",P);var $=(0,o.I0)(),ee=(0,o.v9)(u.FO),ne=function(e){X((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,t.Z)({},e,""))}))};return console.log(ee),(0,S.jsx)("div",{className:O.addSectionWrap,children:(0,S.jsxs)("form",{className:O.addRecipeForm,onSubmit:function(e){e.preventDefault(),A.validate(Y,{abortEarly:!1}).then((function(){$((0,l.C0)(V)).unwrap().then((function(){K("/my",{replace:!0}),g.Notify.success("Hooray! The recipe was successfully added")})).catch((function(e){g.Notify.error("Ooops, smth is going wrong... Try again!")}))})).catch((function(e){var n=e.inner.reduce((function(e,n){return(0,r.Z)((0,r.Z)({},e),{},(0,t.Z)({},n.path,n.message))}),{});X(n)}))},children:[(0,S.jsx)(M,{title:x,description:j,time:B,category:y,onInputImgUpload:function(e){m(e.target.files[0]),ne("img")},onTitleChange:function(e){f(e),ne("title")},onDescriptionChange:function(e){N(e),ne("description")},onCategoryChange:function(e){C(e)},onTimeChange:function(e){Q(e)},errors:W}),(0,S.jsx)(q,{ingredients:E,incrIngredientFields:function(){k((function(e){return[].concat((0,s.Z)(e),[{id:(0,p.x0)(),ingredientsQuantity:0,ingredientsQuantityMeasure:"tbs",name:""}])}))},decrIngredientFields:function(){var e=E[E.length-1];k((function(n){return n.filter((function(n){return n.id!==e.id}))}))},deleteIngredient:function(e){k(E.filter((function(n){return n.id!==e})))},updateIngredient:function(e,n,i,t){console.log("ADD",{index:e,value:n,id:i,prop:t}),k((function(r){console.log("STATE",r);var a=(0,s.Z)(r);return a[e][t]=n,a[e].id=i,a}))},updateErrors:ne,errors:W}),(0,S.jsx)(J,{onPreparationTextChange:function(e){H(e),ne("preparation")},preparation:P,errors:W}),(0,S.jsx)("button",{className:O.addButton,type:"submit",children:"Add"})]})})},z=i(3),W=function(){z.L},X=i(1556);function K(){return(0,S.jsx)("div",{children:"PopularRecipe"})}var G="AddRecipePage_wrapper__8rLIM",Y="AddRecipePage_pageContent__6accz",V="AddRecipePage_formContainer__TEeEs",$="AddRecipePage_sidebar__1uoTZ",ee=function(){return(0,S.jsx)("div",{className:G,children:(0,S.jsxs)("section",{className:Y,children:[(0,S.jsx)(X.e,{text:"Add recipe"}),(0,S.jsxs)("div",{className:V,children:[(0,S.jsx)(U,{}),(0,S.jsxs)("div",{className:$,children:[(0,S.jsx)(W,{}),(0,S.jsx)(K,{})]})]})]})})}},2166:function(e,n,i){i.d(n,{FO:function(){return r},gj:function(){return t}});var t=function(e){return e.myRecipes.isLoading},r=function(e){return e.myRecipes.error}}}]);
//# sourceMappingURL=968.f58f181d.chunk.js.map